!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,a=e.src.length,r=e.width,o=e.height;(t=r*o/4e6)>1?(t=Math.sqrt(t),r/=t,o/=t):t=1;if(canvas.width=r,canvas.height=o,ctx.fillStyle="#fff",ctx.fillRect(0,0,canvas.width,canvas.height),(n=r*o/1e6)>1){n=~~(Math.sqrt(n)+1);var l=~~(r/n),i=~~(o/n);tCanvas.width=l,tCanvas.height=i;for(var c=0;c<n;c++)for(var u=0;u<n;u++)tctx.drawImage(e,c*l*t,u*i*t,l*t,i*t,0,0,l,i),ctx.drawImage(tCanvas,c*l,u*i,l,i)}else ctx.drawImage(e,0,0,r,o);var s=canvas.toDataURL("image/jpeg",.1);return console.log("压缩前："+a),console.log("压缩后："+s.length),console.log("压缩率："+~~(100*(a-s.length)/a)+"%"),tCanvas.width=tCanvas.height=canvas.width=canvas.height=0,s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=$("#username")[0].value;localStorage.setItem("username",e),console.log(localStorage)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.target.files[0];document.createElement("canvas").getContext("2d"),document.createElement("canvas").getContext("2d");if(console.log(t),["jpeg","png","gif","jpg"].indexOf(t.type.split("/")[1])<0)return void alert("文件格式不对");if(t.size>10485760)return void alert("文件过大");if(!this.files.length)return;var n=new FileReader;t.size,t.size;n.onload=function(){var e=this.result,t=new Image;if(t.src=e,$(".photoinput").css("background-image","url("+e+")"),$(".cameraContainer").hide(),$(".add").hide(),e.length<=10485760)return t=null,void localStorage.setItem("img",e);function n(){var e=(0,o.default)(t);localStorage.setItem("img",e),t=null}t.complete?n():t.onload=n},n.readAsDataURL(t)};var a,r=n(0),o=(a=r)&&a.__esModule?a:{default:a}},function(e,t,n){"use strict";o(n(0));var a=o(n(2)),r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}document.getElementById("camera_image").addEventListener("change",a.default),document.getElementById("username").addEventListener("change",r.default)}]);
//# sourceMappingURL=bundle.js.map